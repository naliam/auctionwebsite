@model auctionwebsite.Models.Product

@{
    ViewBag.Title = "Create";
    Layout = "~/Views/Shared/user_layout.cshtml";
}
<!DOCTYPE html>

<div class="span9">
    <ul class="breadcrumb">
        <li><a href="index.html">Trang chủ</a> <span class="divider">/</span></li>
        <li><a href="products.html">Tài khoản</a> <span class="divider">/</span></li>
        <li class="active">Đấu giá sản phẩm</li>
    </ul>
    </ul>
    <h3>Đấu giá</h3>
    <hr class="soft" />
    <form class="form-horizontal">
        <div class="control-group">
            <label class="control-label">Danh mục tổng hợp<sup>*</sup></label>
            <div class="controls">
                @Html.DropDownList("CateparentID", String.Empty)
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">Danh mục<sup>*</sup></label>
             <div class="controls">
                @Html.DropDownList("CateID", new SelectList(string.Empty, "CateID", "CateName"), "Hãy chọn danh mục tổng hợp")
             </div>
        </div>
        <div class="control-group">
            <label class="control-label">Tên sản phẩm <sup>*</sup></label>
            <div class="controls">
                @Html.EditorFor(model => model.ProductName)
                @Html.ValidationMessageFor(model => model.ProductName, null, new { @class = "text-danger" })
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">Giá sản phẩm <sup>*</sup></label>
            <div class="controls">
                @Html.EditorFor(model => model.ProductPrice)
                @Html.ValidationMessageFor(model => model.ProductPrice, null, new { @class = "text-danger" })
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">Bước giá <sup>*</sup></label>
            <div class="controls">
                @Html.EditorFor(model => model.ProductTickSize)
                @Html.ValidationMessageFor(model => model.ProductTickSize, null, new { @class = "text-danger" })
            </div>
        </div>
        <div class="control-group">
            <label class="control-label" for="inputLname">Ngày kết thúc đấu giá  <sup>*</sup></label>
            <div class="controls">
                @Html.TextBoxFor(model => model.ProductDateSold ,new { @class = "datepicker"})
                @Html.ValidationMessageFor(model => model.ProductDateSold)
            </div>
        </div>
        <div class="control-group">
            <label class="control-label" for="textarea">Mô tả</label>
            <div class="controls">
                @Html.TextAreaFor(model => model.ProductDes, new { @cols = "80", @rows = "4", @class = "input-xxlarge" })
                @Html.ValidationMessageFor(model => model.ProductDes, null, new { @class = "text-danger" })
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">Hình ảnh *</label>
            <div class="controls">
                <input class="input-file" id="fileMainInput" name="fileMainInput" type="file">
            </div>
        </div>

        <div class="control-group">
            <button type="button" class="btn btn-primary" id="addImages">Thêm ảnh phụ</button>
            <div id="insert"></div>
        </div>


        <p><sup>*</sup>Các trường cần thiết phải nhập</p>

        <div class="control-group">
            <div class="controls">
                <input type="hidden" name="email_create" value="1">
                <input type="hidden" name="is_new_customer" value="1">
                <input class="btn btn-large btn-success" type="submit" value="Đăng ký đấu giá" />
            </div>
        </div>
    </form>

</div>
</div></div>

@section Scripts
{
    <script type="text/javascript">
    $(document).ready(function () {
        $('#addImages').click(function () {
            $("#insert").append('<div class="control-group"><label class="control-label" >Hình ảnh phụ*</label><div class="controls"><input class="input-file" id="fileSubInput" name="fileSubInput" type="file"></div></div>');
        });

        $('#CateparentID').change(function () {
            $("#CateID").empty();
            $.ajax({
                type: 'POST',
                url: '@Url.Action("GetCates")',
                dataType: 'json',
                data: { id: $("#CateparentID").val() },
                success: function (Cates) {
                    $.each(Cates, function (i, cate) {
                        $('#CateID').append('<option value="' + cate.Value + '">' + cate.Text + '</option>');
                    });
                },
                error:function(ex){
                alert("Fail" +ex);
                 }
        });
        return false;
        });
        $('.datepicker').datetimepicker();
  
    });
    </script>
}
